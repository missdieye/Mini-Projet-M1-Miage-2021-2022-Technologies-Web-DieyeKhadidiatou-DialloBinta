{"remainingRequest":"C:\\Users\\binet\\OneDrive\\Documents\\GitHub\\Mini-Projet-M1-Miage-2021-2022-Technologies-Web-DieyeKhadidiatou-DialloBinta\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\binet\\OneDrive\\Documents\\GitHub\\Mini-Projet-M1-Miage-2021-2022-Technologies-Web-DieyeKhadidiatou-DialloBinta\\client\\src\\components\\ListeDesRestaurants.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\binet\\OneDrive\\Documents\\GitHub\\Mini-Projet-M1-Miage-2021-2022-Technologies-Web-DieyeKhadidiatou-DialloBinta\\client\\src\\components\\ListeDesRestaurants.vue","mtime":1636125959597},{"path":"C:\\Users\\binet\\OneDrive\\Documents\\GitHub\\Mini-Projet-M1-Miage-2021-2022-Technologies-Web-DieyeKhadidiatou-DialloBinta\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636063119778},{"path":"C:\\Users\\binet\\OneDrive\\Documents\\GitHub\\Mini-Projet-M1-Miage-2021-2022-Technologies-Web-DieyeKhadidiatou-DialloBinta\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1636063119387},{"path":"C:\\Users\\binet\\OneDrive\\Documents\\GitHub\\Mini-Projet-M1-Miage-2021-2022-Technologies-Web-DieyeKhadidiatou-DialloBinta\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636063119778},{"path":"C:\\Users\\binet\\OneDrive\\Documents\\GitHub\\Mini-Projet-M1-Miage-2021-2022-Technologies-Web-DieyeKhadidiatou-DialloBinta\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1636063137674}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgXyBmcm9tICJsb2Rhc2giOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiTGlzdGVEZXNSZXN0YXVyYW50cyIsDQogIGRhdGE6ICgpID0+IHsNCiAgICByZXR1cm4gew0KICAgICAgcmVzdGF1cmFudHMgOiBbXSwNCiAgICAgIG5vbTogIiIsDQogICAgICBjdWlzaW5lOiAiIiwNCiAgICAgIGJvcm91Z2ggOiAiIiwNCiAgICAgIHN0cmVldCA6ICIiLA0KICAgICAgbm9tYnJlUmVzdGF1cmFudHNUb3RhbDogMCwNCiAgICAgIHBhZ2U6IDAsDQogICAgICBwYWdlU2l6ZTogMTAsDQogICAgICBuYnJlUGFnZXNUb3RhbDogMCwNCiAgICAgIG1zZzogIiIsDQogICAgICBub21SZXN0b1JlY2hlcmNoZXI6ICIiLA0KICAgICAgbm90Rm91bmQ6IGZhbHNlLA0KICAgICAgcmVzdG9Nb2RhbCA6IGZhbHNlLA0KICAgICAgY29tbWFuZGVQYWdlIDpmYWxzZQ0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHBhZ2VQcmVjZWRlbnRlKCkgew0KICAgICAgaWYgKHRoaXMucGFnZSA9PSAwKSByZXR1cm47DQoNCiAgICAgIHRoaXMucGFnZS0tOw0KICAgICAgdGhpcy5nZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoKTsNCiAgICB9LA0KICAgIHBhZ2VTdWl2YW50ZSgpIHsNCiAgICAgIGlmICh0aGlzLnBhZ2UgPT09IHRoaXMuZGVybmllcmVQYWdlKSByZXR1cm47DQogICAgICB0aGlzLnBhZ2UrKzsNCiAgICAgIHRoaXMuZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKCk7DQogICAgfSwNCiAgICBnZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoKSB7DQogICAgICBsZXQgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvcmVzdGF1cmFudHM/IjsNCiAgICAgIHVybCArPSAicGFnZT0iICsgdGhpcy5wYWdlOw0KICAgICAgdXJsICs9ICImcGFnZXNpemU9IiArIHRoaXMucGFnZVNpemU7DQogICAgICB1cmwgKz0gIiZuYW1lPSIgKyB0aGlzLm5vbVJlc3RvUmVjaGVyY2hlcjsNCg0KICAgICAgZmV0Y2godXJsKQ0KICAgICAgICAudGhlbigocmVzcG9uc2VKU09OKSA9PiB7DQogICAgICAgICAgLy9hcm93IGZvbmN0aW9uIGNvbnNlcnZlIGxlIGJvbiAidGhpcyIuDQogICAgICAgICAgcmVzcG9uc2VKU09OLmpzb24oKS50aGVuKChyZXNKcykgPT4gew0KICAgICAgICAgICAgLy8gTWFpbnRlbmFudCByZXNKcyBlc3QgdW4gdnJhaSBvYmpldCBKYXZhU2NyaXB0DQogICAgICAgICAgICB0aGlzLnJlc3RhdXJhbnRzID0gcmVzSnMuZGF0YTsNCiAgICAgICAgICAgIGNvbnNvbGUuZGlyKHRoaXMucmVzdGF1cmFudHMpOw0KICAgICAgICAgICAgdGhpcy5ub21icmVSZXN0YXVyYW50c1RvdGFsID0gcmVzSnMuY291bnQ7DQogICAgICAgICAgICB0aGlzLm5icmVQYWdlc1RvdGFsID0gTWF0aC5yb3VuZCgNCiAgICAgICAgICAgICAgdGhpcy5ub21icmVSZXN0YXVyYW50c1RvdGFsIC8gdGhpcy5wYWdlU2l6ZQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIGlmICh0aGlzLm5vbWJyZVJlc3RhdXJhbnRzVG90YWwgPD0gMCkgew0KICAgICAgICAgICAgICB0aGlzLm5vdEZvdW5kID0gdHJ1ZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMubm90Rm91bmQgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICB9KTsNCiAgICAgIA0KICAgIH0sDQogICAgY2hlcmNoZXJSZXN0bzogXy5kZWJvdW5jZShmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcigpOw0KDQogICAgICAvLyB0aGlzLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcigpOw0KICAgIH0sIDEwMDApLA0KICAgIHN1cHByaW1lclJlc3RhdXJhbnQocikgew0KICAgICAgbGV0IHVybCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3Jlc3RhdXJhbnRzLyIgKyByLl9pZDsNCg0KICAgICAgZmV0Y2godXJsLCB7DQogICAgICAgIG1ldGhvZDogIkRFTEVURSIsDQogICAgICB9KQ0KICAgICAgICAudGhlbigocmVzcG9uc2VKU09OKSA9PiB7DQogICAgICAgICAgcmVzcG9uc2VKU09OLmpzb24oKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIC8vIE1haW50ZW5hbnQgcmVzIGVzdCB1biB2cmFpIG9iamV0IEphdmFTY3JpcHQNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5tc2cpOw0KICAgICAgICAgICAgdGhpcy5tc2cgPSByZXMubXNnOw0KDQogICAgICAgICAgICAvL09uIHJhZmZyYWljaGl0IGxhIHZ1ZQ0KICAgICAgICAgICAgdGhpcy5nZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGFqb3V0ZXJSZXN0YXVyYW50KGV2ZW50KSB7DQogICAgICAvLyBSw6ljdXDDqXJhdGlvbiBkdSBmb3JtdWxhaXJlLiBQYXMgYmVzb2luIGRlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3INCiAgICAgIC8vIG91IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIHB1aXNxdWUgYydlc3QgbGUgZm9ybXVsYWlyZSBxdWkgYSBnw6luw6lyw6kNCiAgICAgIC8vIGwnw6l2w6luZW1lbnQNCiAgICAgIGxldCBmb3JtID0gZXZlbnQudGFyZ2V0Ow0KDQogICAgICAvLyBSw6ljdXDDqXJhdGlvbiBkZXMgdmFsZXVycyBkZXMgY2hhbXBzIGR1IGZvcm11bGFpcmUNCiAgICAgIC8vIGVuIHByw6l2aXNpb24gZCd1biBlbnZvaSBtdWx0aXBhcnQgZW4gYWpheC9mZXRjaA0KICAgICAgbGV0IGRvbm5lZXNGb3JtdWxhaXJlID0gbmV3IEZvcm1EYXRhKGZvcm0pOw0KDQogICAgICBsZXQgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvcmVzdGF1cmFudHMiOw0KDQogICAgICBmZXRjaCh1cmwsIHsNCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgIGJvZHk6IGRvbm5lZXNGb3JtdWxhaXJlLA0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlSlNPTikgPT4gew0KICAgICAgICAgIHJlc3BvbnNlSlNPTi5qc29uKCkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAvLyBNYWludGVuYW50IHJlcyBlc3QgdW4gdnJhaSBvYmpldCBKYXZhU2NyaXB0DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMubXNnKTsNCiAgICAgICAgICAgIHRoaXMubXNnID0gcmVzLm1zZzsNCg0KICAgICAgICAgICAgLy9PbiByYWZmcmFpY2hpdCBsYSB2dWUNCiAgICAgICAgICAgIHRoaXMuZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKCk7DQoNCiAgICAgICAgICAgIC8vQWxsZXJ0ZSBkZSBzdWNjZXMgDQogICAgICAgICAgICAgdGhpcy4kc3dhbCgiRsOpbGljaXRhdGlvbiEiLCAiUmVzdGF1cmFudCBham91dMOpIGF2ZWMgc3VjY8OocyEiLCAic3VjY2VzcyIpDQogICAgICAgICAgICAgLy9PbiByYWZmcmFpY2hpdCBsYSBwYWdlDQogICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQogICAgICB0aGlzLm5vbSA9ICIiOw0KICAgICAgdGhpcy5jdWlzaW5lID0gIiI7DQogICAgICB0aGlzLmJvcm91Z2ggPSAiIjsNCiAgICAgIHRoaXMuc3RyZWV0ID0gIiI7DQoNCiAgICB9LA0KICAgIGdldENvbG9yKGluZGV4KSB7DQogICAgICByZXR1cm4gaW5kZXggJSAyID8gImxpZ2h0Qmx1ZSIgOiAiI2Y2NzdhOGNjIjsNCiAgICB9LA0KICAgIGdldENvbG9yQnV0dG9uKGluZGV4KSB7DQogICAgICByZXR1cm4gaW5kZXggJSAyID8gIiNmNjc3YThjYyIgOiAibGlnaHRCbHVlIiA7DQogICAgfSwNCiAgICB2b2lyQWxlcnQoeCkgew0KICAgICAgdGhpcy4kc3dhbCh7DQogICAgICAgICAgdGl0bGU6ICdFdGVzLXZvdXMgc8O7cj8nLA0KICAgICAgICAgIHRleHQ6ICdWb3VzIG5lIHBvdXJyZXogcGx1cyByZXZlbmlyIGVuIGFycmnDqHJlIScsDQogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLA0KICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsDQogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdPdWkgc3VwcHJpbWVyIScsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ05vbiBhbm51bGVyIScsDQogICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlLA0KICAgICAgICAgIHNob3dMb2FkZXJPbkNvbmZpcm06IHRydWUNCiAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7DQogICAgICAgICAgaWYocmVzdWx0LnZhbHVlKSB7DQogICAgICAgICAgICB0aGlzLnN1cHByaW1lclJlc3RhdXJhbnQoeCk7DQogICAgICAgICAgICB0aGlzLiRzd2FsKCdTdXBwcmltZXInLCAnTGUgcmVzdGF1cmFudCBlc3Qgc3VwcHJpbcOpJywgJ3N1Y2Nlc3MnKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRzd2FsKCdBbm51bGVyJywgJ0xhIHN1cHByZXNzaW9uIGEgw6l0w6kgYW5udWzDqS4nLCAnaW5mbycpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgbG9hZCgpew0KICAgICAgbG9jYXRpb24ucmVsb2FkKCk7DQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["ListeDesRestaurants.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListeDesRestaurants.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n\r\n    <md-toolbar>\r\n      <md-list class=\"infosResto\">\r\n      <md-list-item>\r\n        <md-icon>dinner_dining</md-icon>\r\n        <span class=\"md-list-item-text\"><b>Nombre de restaurants par page :  </b></span>\r\n        <p><input type=\"range\" min=2 max=100 \r\n        @change=\"getRestaurantsFromServer()\" v-model=\"pageSize\">{{pageSize}}</p>\r\n      </md-list-item>\r\n      <md-list-item>\r\n        <md-icon><span class=\"material-icons\">restaurant</span></md-icon>\r\n        <span class=\"md-list-item-text\"><b>Nombre de restaurants: </b></span>\r\n        <p>{{ nombreRestaurantsTotal }}</p>\r\n      </md-list-item>\r\n      <md-list-item>\r\n         <md-icon>pages</md-icon>\r\n        <span class=\"md-list-item-text\"><b>Nombre de Pages Total :  </b></span>\r\n        <p>{{ nbrePagesTotal }}</p>\r\n      </md-list-item>\r\n      </md-list>\r\n    </md-toolbar>\r\n    <br />\r\n      <md-table \r\n        class=\"table-md\"\r\n        v-model=\"restaurants\"\r\n        md-sort=\"name\"\r\n        md-sort-order=\"asc\"\r\n        md-card>\r\n        <md-table-toolbar>\r\n          <div class=\"md-toolbar-section-start\">\r\n            <md-button class=\"md-raised md-primary\" @click=\"restoModal=true\">\r\n              <md-icon><span class=\"material-icons\">add</span></md-icon>Ajouter un nouveau restaurant\r\n            </md-button>\r\n            <md-dialog :md-active.sync=\"restoModal\">\r\n              <md-dialog-title>Ajout d'un nouveau restaurant</md-dialog-title>\r\n              \r\n              <form @submit.prevent=\"ajouterRestaurant($event)\">\r\n\r\n                <md-dialog-content>\r\n                    <md-field>\r\n                      <label>Nom</label>\r\n                      <md-input v-model=\"nom\" name=\"nom\" required></md-input>\r\n                    </md-field>\r\n                    <md-field>\r\n                      <label>Cuisine</label>\r\n                      <md-input v-model=\"cuisine\" name=\"cuisine\" required></md-input>\r\n                    </md-field>\r\n                    <md-field>\r\n                      <label>Adresse</label>\r\n                      <md-input v-model=\"street\" name=\"street\"></md-input>\r\n                    </md-field>\r\n                    <md-field>\r\n                      <label>Ville</label>\r\n                      <md-input v-model=\"borough\" name=\"borough\"></md-input>\r\n                    </md-field>\r\n                </md-dialog-content>\r\n\r\n                <md-dialog-actions>\r\n                  <md-button class=\"md-primary\" @click=\"restoModal= false\">Fermer</md-button>\r\n                  <md-button type=\"submit\" class=\"md-primary\" >Ajouter</md-button>\r\n                </md-dialog-actions>\r\n              </form>\r\n\r\n            </md-dialog>\r\n          </div>\r\n\r\n          <md-field  class=\"md-toolbar-section-end\">\r\n              <label for=\"nom\">Chercher par nom:</label>\r\n              <md-input @input=\"chercherResto()\" v-model=\"nomRestoRechercher\"  md-layout=\"box\" md-dense>\r\n              </md-input>\r\n          </md-field>\r\n        </md-table-toolbar>\r\n\r\n        <md-table-empty-state\r\n        md-label=\"Aucun restaurant trouvé\"\r\n        :md-description=\"`Aucun restaurant ne correspond à votre recherche!`\">\r\n        </md-table-empty-state>\r\n\r\n        <md-table-row \r\n          :style=\"{ backgroundColor: getColor(index) }\"\r\n          :class=\"{ bordureRouge: index === 2 }\"\r\n          slot=\"md-table-row\"\r\n          slot-scope=\"{ item, index }\"\r\n        >\r\n          \r\n          <md-table-cell md-label=\"Name\" md-sort-by=\"name\">{{ item.name }}</md-table-cell>\r\n          <md-table-cell md-label=\"Cuisine\" md-sort-by=\"cuisine\">{{item.cuisine}}</md-table-cell>         \r\n          <md-table-cell md-label=\"Rue\" md-sort-by=\"street\">{{item.address.street}}</md-table-cell>\r\n          <md-table-cell md-label=\"Ville\" md-sort-by=\"borough\">{{item.borough}}</md-table-cell>\r\n          <md-table-cell md-label=\"Actions\">\r\n            <router-link :to=\"'/restaurant/' + item._id\">\r\n              <md-button :style=\"{ backgroundColor: getColorButton(index) }\" class=\"md-fab md-plain iconActions\">\r\n                <md-icon>read_more</md-icon>\r\n              </md-button>\r\n            </router-link>\r\n            <md-button :style=\"{ backgroundColor: getColorButton(index) }\" class=\"md-fab md-plain iconActions\" @click=\"voirAlert(item)\">\r\n              <md-icon>delete</md-icon>\r\n            </md-button>\r\n          </md-table-cell>\r\n        </md-table-row>\r\n      </md-table>\r\n      <md-toolbar>\r\n        <div class=\"md-toolbar-section-start\">\r\n        \r\n        </div>\r\n        <div  class=\"md-toolbar-section-end\">\r\n          <md-button :disabled=\"page === 0\" @click=\"pagePrecedente()\"\r\n          > <b>Précédente</b> \r\n          </md-button\r\n            >&nbsp;&nbsp;\r\n          <md-button :disabled=\"page === nbrePagesTotal\" @click=\"pageSuivante()\"\r\n          > <b>Suivante</b> </md-button>\r\n        </div>\r\n      </md-toolbar>\r\n      \r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport _ from \"lodash\";\r\nexport default {\r\n  name: \"ListeDesRestaurants\",\r\n  data: () => {\r\n    return {\r\n      restaurants : [],\r\n      nom: \"\",\r\n      cuisine: \"\",\r\n      borough : \"\",\r\n      street : \"\",\r\n      nombreRestaurantsTotal: 0,\r\n      page: 0,\r\n      pageSize: 10,\r\n      nbrePagesTotal: 0,\r\n      msg: \"\",\r\n      nomRestoRechercher: \"\",\r\n      notFound: false,\r\n      restoModal : false,\r\n      commandePage :false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getRestaurantsFromServer();\r\n  },\r\n  methods: {\r\n    pagePrecedente() {\r\n      if (this.page == 0) return;\r\n\r\n      this.page--;\r\n      this.getRestaurantsFromServer();\r\n    },\r\n    pageSuivante() {\r\n      if (this.page === this.dernierePage) return;\r\n      this.page++;\r\n      this.getRestaurantsFromServer();\r\n    },\r\n    getRestaurantsFromServer() {\r\n      let url = \"http://localhost:8080/api/restaurants?\";\r\n      url += \"page=\" + this.page;\r\n      url += \"&pagesize=\" + this.pageSize;\r\n      url += \"&name=\" + this.nomRestoRechercher;\r\n\r\n      fetch(url)\r\n        .then((responseJSON) => {\r\n          //arow fonction conserve le bon \"this\".\r\n          responseJSON.json().then((resJs) => {\r\n            // Maintenant resJs est un vrai objet JavaScript\r\n            this.restaurants = resJs.data;\r\n            console.dir(this.restaurants);\r\n            this.nombreRestaurantsTotal = resJs.count;\r\n            this.nbrePagesTotal = Math.round(\r\n              this.nombreRestaurantsTotal / this.pageSize\r\n            );\r\n            if (this.nombreRestaurantsTotal <= 0) {\r\n              this.notFound = true;\r\n            } else {\r\n              this.notFound = false;\r\n            }\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n      \r\n    },\r\n    chercherResto: _.debounce(function () {\r\n      this.getRestaurantsFromServer();\r\n\r\n      // this.getRestaurantsFromServer();\r\n    }, 1000),\r\n    supprimerRestaurant(r) {\r\n      let url = \"http://localhost:8080/api/restaurants/\" + r._id;\r\n\r\n      fetch(url, {\r\n        method: \"DELETE\",\r\n      })\r\n        .then((responseJSON) => {\r\n          responseJSON.json().then((res) => {\r\n            // Maintenant res est un vrai objet JavaScript\r\n            console.log(res.msg);\r\n            this.msg = res.msg;\r\n\r\n            //On raffraichit la vue\r\n            this.getRestaurantsFromServer();\r\n          });\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err);\r\n        });\r\n    },\r\n    ajouterRestaurant(event) {\r\n      // Récupération du formulaire. Pas besoin de document.querySelector\r\n      // ou document.getElementById puisque c'est le formulaire qui a généré\r\n      // l'événement\r\n      let form = event.target;\r\n\r\n      // Récupération des valeurs des champs du formulaire\r\n      // en prévision d'un envoi multipart en ajax/fetch\r\n      let donneesFormulaire = new FormData(form);\r\n\r\n      let url = \"http://localhost:8080/api/restaurants\";\r\n\r\n      fetch(url, {\r\n        method: \"POST\",\r\n        body: donneesFormulaire,\r\n      })\r\n        .then((responseJSON) => {\r\n          responseJSON.json().then((res) => {\r\n            // Maintenant res est un vrai objet JavaScript\r\n            console.log(res.msg);\r\n            this.msg = res.msg;\r\n\r\n            //On raffraichit la vue\r\n            this.getRestaurantsFromServer();\r\n\r\n            //Allerte de succes \r\n             this.$swal(\"Félicitation!\", \"Restaurant ajouté avec succès!\", \"success\")\r\n             //On raffraichit la page\r\n             location.reload();\r\n          });\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err);\r\n        });\r\n      this.nom = \"\";\r\n      this.cuisine = \"\";\r\n      this.borough = \"\";\r\n      this.street = \"\";\r\n\r\n    },\r\n    getColor(index) {\r\n      return index % 2 ? \"lightBlue\" : \"#f677a8cc\";\r\n    },\r\n    getColorButton(index) {\r\n      return index % 2 ? \"#f677a8cc\" : \"lightBlue\" ;\r\n    },\r\n    voirAlert(x) {\r\n      this.$swal({\r\n          title: 'Etes-vous sûr?',\r\n          text: 'Vous ne pourrez plus revenir en arrière!',\r\n          type: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'Oui supprimer!',\r\n          cancelButtonText: 'Non annuler!',\r\n          showCloseButton: true,\r\n          showLoaderOnConfirm: true\r\n        }).then((result) => {\r\n          if(result.value) {\r\n            this.supprimerRestaurant(x);\r\n            this.$swal('Supprimer', 'Le restaurant est supprimé', 'success')\r\n          } else {\r\n            this.$swal('Annuler', 'La suppression a été annulé.', 'info')\r\n          }\r\n        })\r\n    },\r\n    load(){\r\n      location.reload();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh1 {\r\n  color: blue;\r\n}\r\n.table-md {\r\n  display: flex;\r\n}\r\nul.md-list.infosResto {\r\n    display: contents;\r\n}\r\nul.md-list.infosResto b {\r\n    font-size: 13px;\r\n}\r\n\r\n.md-field .md-input, .md-field .md-textarea {\r\n    background-color: white !important;\r\n}\r\n\r\n</style>\r\n"]}]}